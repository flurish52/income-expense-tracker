import{p as d,o as f,g as c,b as t,j as x,k as $,u as s,H as E,f as S,F as z,m as B,n as C,E as m,y as A,a as b,w as v,e as w,P as _,r as M}from"./app-C9qBrEZo.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"absolute top-6 left-1/2 flex flex-col items-center justify-center bg-white shadow-2xl rounded-lg p-8 border border-gray-200 z-10 w-1/2 -translate-x-1/2"},D={class:"mt-8 w-full"},F={class:"bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200"},L=["onUpdate:modelValue","readonly","onOnblur"],N={class:"space-x-2"},P=["onClick"],U=["onClick"],I={__name:"CategoryModel",props:{categories:Array},emits:["submit"],setup(k,{emit:r}){let n=d(!0),l=d(""),u=r,i=()=>{u("submit",l.value)},p=(a,e)=>{confirm(`Are you sure you want to delete ${e}`)},y=(a,e)=>{console.log(e),confirm(`Are you sure you want to Edit ${e}`),n.value=!n.value},h=(a,e)=>{console.log(a),m.post(`edit-category/${a}`,{categoryName:e}).then(o=>{o.status===200&&(n.value=!1)})};return(a,e)=>(f(),c("div",j,[e[4]||(e[4]=t("h2",{class:"text-2xl font-bold text-gray-800 mb-6"},"All Categories",-1)),t("form",{onSubmit:e[1]||(e[1]=S((...o)=>s(i)&&s(i)(...o),["prevent"])),class:"w-full flex flex-col gap-4"},[x(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>E(l)?l.value=o:l=o),placeholder:"Enter category name",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none shadow-sm transition"},null,512),[[$,s(l)]]),e[2]||(e[2]=t("button",{type:"submit",class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white font-semibold py-3 rounded-lg shadow-lg hover:opacity-90 transition duration-300"}," Submit ",-1))],32),t("div",D,[e[3]||(e[3]=t("h3",{class:"text-xl font-semibold text-gray-700 mb-3"},"Existing Categories",-1)),t("ul",F,[(f(!0),c(z,null,B(k.categories,(o,V)=>(f(),c("li",{key:V,class:"p-2 text-gray-700 border-b last:border-b-0 flex justify-between items-center hover:bg-gray-100 transition"},[x(t("input",{class:C(["font-medium bg-transparent border-0 focus:outline-none focus:ring-0",s(n)?"":"focus:bg-gray-200"]),type:"text","onUpdate:modelValue":g=>o.name=g,readonly:s(n),onOnblur:g=>s(h)(o.id,o.name)},null,42,L),[[$,o.name]]),t("div",N,[t("button",{onClick:g=>s(y)(o.id,o.name),class:"bg-green-500 text-white px-1 py-px rounded-md shadow hover:bg-green-600 transition"}," Edit ",8,P),t("button",{onClick:g=>s(p)(o.id,o.name),class:"bg-red-500 text-white px-1 py-px rounded-md shadow hover:bg-red-600 transition"}," Delete ",8,U)])]))),128))])])]))}},T={class:"flex flex-col md:flex-row"},H={class:"flex flex-col gap-4"},R={class:"relative w-full p-6"},q={__name:"AuthenticatedLayout",setup(k){let r=d(!1),n=d(),l=d(!1);const u=()=>{m.get("/all-categories").then(a=>{n.value=a.data})},i=()=>{u(),r.value=!r.value},p=()=>{m.post("logout")},y=()=>{l.value=!l.value},h=a=>{m.post("add-new-category",{name:a}).then(e=>{e.status===200&&(alert("Category created successfully!"),a="",u())}).catch(e=>{alert("Failed to create Category. Please check your inputs."),console.log(e)})};return(a,e)=>(f(),c("div",T,[t("button",{onClick:e[0]||(e[0]=o=>i()),class:"fixed top-4 right-6 z-40 bg-blue-700 text-white font-semibold py-2 px-5 rounded-lg shadow-md transition hover:bg-blue-800 hover:scale-105"}," + Add New Category "),t("button",{onClick:y,class:C([{"translate-x-56":s(l),"translate-x-0":!s(l)},"md:hidden border-2 fixed top-4 left-6 z-50 bg-gray-100 text-black p-2 rounded-md transition-transform duration-300"])}," â˜° ",2),x(t("div",{onClick:i,class:"fixed inset-0 bg-black bg-opacity-50 z-10"},null,512),[[A,s(r)]]),t("div",{class:C([{"-translate-x-full":!s(l),"translate-x-0":s(l)},"w-64 h-screen md:h-auto bg-white shadow-lg flex flex-col p-6 fixed md:relative z-40 transition-transform md:translate-x-0"])},[e[4]||(e[4]=t("h2",{class:"text-xl font-bold mb-6 text-gray-800"},"Business Manager",-1)),t("nav",H,[b(s(_),{href:"/",class:"sidebar-link"},{default:v(()=>e[1]||(e[1]=[w("Dashboard")])),_:1}),b(s(_),{href:"/manage-businesses",class:"sidebar-link"},{default:v(()=>e[2]||(e[2]=[w("Manage Businesses")])),_:1}),b(s(_),{href:"/new-business",class:"sidebar-link"},{default:v(()=>e[3]||(e[3]=[w("Add Business")])),_:1}),t("button",{onClick:p,class:"text-red-600 font-medium mt-auto hover:underline"},"Sign Out")])],2),t("div",R,[x(b(I,{categories:s(n),onSubmit:h},null,8,["categories"]),[[A,s(r)]]),M(a.$slots,"default",{},void 0,!0)])]))}},K=O(q,[["__scopeId","data-v-fe922e1b"]]);export{K as A};
